<div class="carrito-container">
  <h2 class="titulo">Carrito de Compras</h2>

  <div *ngIf="carritoService.items().length === 0" class="carrito-vacio">
    <p>Tu carrito está vacío </p>
    <button class="btn-volver" (click)="volverATienda()">Volver a la tienda</button>
  </div>

  <div *ngIf="carritoService.items().length > 0">
    <table class="tabla-carrito">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Precio</th>
          <th>Cantidad</th>
          <th>Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of carritoService.items()">
          <td>{{ producto.nombre }}</td>
          <td>${{ producto.precio }}</td>
          <td class="cantidad">
            <button (click)="cambiarCantidad(producto, -1)">−</button>
            <span>{{ producto.cantidad || 1 }}</span>
            <button (click)="cambiarCantidad(producto, 1)">+</button>
          </td>
          <td>${{ producto.precio * (producto.cantidad || 1) }}</td>
          <td>
            <button class="btn-eliminar" (click)="remove(producto.id)">✖</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="resumen">
      <p><strong>Total de artículos:</strong> {{ totalItems() }}</p>
      <p><strong>Total a pagar:</strong> ${{ totalPrice() }}</p>
    </div>

    <div class="acciones">
      <button class="btn-limpiar" (click)="clear()">Limpiar Carrito</button>
      <button class="btn-comprar" (click)="confirmarCompra()">Confirmar Compra</button>
    </div>

    <div class="volver">
      <button class="btn-volver" (click)="volverATienda()">← Volver a la tienda</button>
    </div>
  </div>
</div>
